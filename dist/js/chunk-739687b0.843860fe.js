(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-739687b0"],{"0b42":function(t,c,e){var n=e("da84"),o=e("e8b5"),r=e("68ee"),i=e("861d"),a=e("b622"),s=a("species"),l=n.Array;t.exports=function(t){var c;return o(t)&&(c=t.constructor,r(c)&&(c===l||o(c.prototype))?c=void 0:i(c)&&(c=c[s],null===c&&(c=void 0))),void 0===c?l:c}},"159b":function(t,c,e){var n=e("da84"),o=e("fdbc"),r=e("785a"),i=e("17c2"),a=e("9112"),s=function(t){if(t&&t.forEach!==i)try{a(t,"forEach",i)}catch(c){t.forEach=i}};for(var l in o)o[l]&&s(n[l]&&n[l].prototype);s(r)},"17c2":function(t,c,e){"use strict";var n=e("b727").forEach,o=e("a640"),r=o("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,c,e){var n=e("d039"),o=e("b622"),r=e("2d00"),i=o("species");t.exports=function(t){return r>=51||!n((function(){var c=[],e=c.constructor={};return e[i]=function(){return{foo:1}},1!==c[t](Boolean).foo}))}},"4de4":function(t,c,e){"use strict";var n=e("23e7"),o=e("b727").filter,r=e("1dde"),i=r("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,c,e){var n=e("0b42");t.exports=function(t,c){return new(n(t))(0===c?0:c)}},"76db":function(t,c,e){"use strict";e.r(c);var n=e("7a23"),o={class:"container mt-3"},r={class:"row"},i={class:"col-12 col-md-3"},a={class:"list row pe-md-5",ref:"list"},s={class:"col-6 col-md-12"},l={class:"col-6 col-md-12"},u={class:"col-6 col-md-12"},d={class:"col-6 col-md-12"},h={class:"col-12 col-md-9"},b={class:"row"},f=["onClick"],p={class:"card h-100"},j=["src"],O={class:"card-body p-3"},v={class:"d-flex align-items-center card-title"},g={class:"user-cart-title"},m={class:"d-flex justify-content-between align-items-center"},y={class:"origin-price fw-light mb-0"},C={class:"price fw-bold mb-0 fs-5"},w=["onClick","disabled"],x={key:0,class:"spinner-border text-danger spinner-border-sm",role:"status"},P=Object(n["h"])("span",{class:"visually-hidden"},"Loading...",-1),k=[P],A={key:1},E=Object(n["h"])("i",{class:"bi bi-cart4"},null,-1),$=Object(n["h"])("span",null,"加入購物車",-1),L=[E,$],_={class:"cart_group"},I=Object(n["h"])("i",{class:"bi bi-cart4"},null,-1),H=[I],q={key:0,class:"p-3"},U={class:"table align-middle caption-top"},K=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{class:"col-1"}),Object(n["h"])("th",{class:"col"},"項目"),Object(n["h"])("th",{class:"col-2"},"數量"),Object(n["h"])("th",{class:"col-3"},"價格")])],-1),V=["onClick"],B=Object(n["h"])("i",{class:"bi bi-x-circle"},null,-1),J=[B],R={align:"rigth"},D=["onChange","disabled","onUpdate:modelValue"],M=Object(n["h"])("td",{colspan:"3",align:"right"},"原價：",-1),N={colspan:"1"},S=Object(n["h"])("td",{colspan:"3",align:"right"},"總金額：",-1),T={colspan:"1"},z={class:"input-group d-flex"};function F(t,c,e,P,E,$){var I=this;return Object(n["v"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",o,[Object(n["h"])("div",r,[Object(n["h"])("div",i,[Object(n["h"])("ul",a,[Object(n["h"])("li",s,[Object(n["h"])("a",{class:"d-block py-0 py-md-2 cart-list-active",href:"#",onClick:c[0]||(c[0]=Object(n["P"])((function(t){return $.productList("all")}),["prevent"])),"data-list":"all"}," 所有 - ALL ")]),Object(n["h"])("li",l,[Object(n["h"])("a",{class:"d-block py-0 py-md-2",href:"#",onClick:c[1]||(c[1]=Object(n["P"])((function(t){return $.productList("蛋糕")}),["prevent"])),"data-list":"蛋糕"}," 蛋糕 - CAKE ")]),Object(n["h"])("li",u,[Object(n["h"])("a",{class:"d-block py-0 py-md-2",href:"#",onClick:c[2]||(c[2]=Object(n["P"])((function(t){return $.productList("派餅")}),["prevent"])),"data-list":"派餅"}," 派餅 - PIE ")]),Object(n["h"])("li",d,[Object(n["h"])("a",{class:"d-block py-0 py-md-2",href:"#",onClick:c[3]||(c[3]=Object(n["P"])((function(t){return $.productList("麵包")}),["prevent"])),"data-list":"麵包"}," 麵包 - BREAD ")])],512)]),Object(n["h"])("div",h,[Object(n["h"])("div",b,[(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["C"])(E.listProducts,(function(c){return Object(n["v"])(),Object(n["g"])("div",{class:"col-6 col-md-4 mb-2",key:c.id},[Object(n["h"])("a",{href:"#",onClick:Object(n["P"])((function(t){return $.goProduct(c.id)}),["prevent"]),style:{"text-decoration":"none",color:"#000"}},[Object(n["h"])("div",p,[Object(n["h"])("img",{src:c.imageUrl,class:"card-img-top madel h-100",alt:""},null,8,j),Object(n["h"])("div",O,[Object(n["h"])("div",v,[Object(n["h"])("b",g,Object(n["H"])(c.title),1)]),Object(n["h"])("div",m,[Object(n["h"])("p",y," $"+Object(n["H"])(t.$filters.currency(c.origin_price)),1),Object(n["h"])("p",C," $"+Object(n["H"])(t.$filters.currency(c.price)),1)]),Object(n["h"])("button",{class:"btn btn-outline-danger py-1 w-100 mt-2",type:"button",onClick:Object(n["P"])((function(t){return $.addCart(c.id,!0)}),["prevent","stop"]),disabled:I.status.loadingItem===c.id},[I.status.loadingItem===c.id?(Object(n["v"])(),Object(n["g"])("div",x,k)):(Object(n["v"])(),Object(n["g"])("span",A,L))],8,w)])])],8,f)])})),128))])])])]),Object(n["h"])("div",_,[Object(n["h"])("button",{class:"btn btn-outline-info rounded-pill fs-2",onClick:c[4]||(c[4]=Object(n["P"])((function(t){return $.showCart()}),["prevent"]))},H),E.cartActive?(Object(n["v"])(),Object(n["g"])("div",q,[Object(n["h"])("table",U,[K,Object(n["h"])("tbody",null,[(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["C"])(E.cartProducts.carts,(function(t){return Object(n["v"])(),Object(n["g"])("tr",{key:t.id},[Object(n["h"])("td",null,[Object(n["h"])("button",{class:"btn p-0",onClick:Object(n["P"])((function(c){return $.delCart(t.id)}),["prevent"])},J,8,V)]),Object(n["h"])("td",null,Object(n["H"])(t.product.title),1),Object(n["h"])("td",R,[Object(n["O"])(Object(n["h"])("input",{type:"number",class:"form-control form-control-sm p-1",id:"count",min:"1",onChange:function(c){return $.addCart(t.id,!1,t.qty)},disabled:t.id===E.status.loadingItem,"onUpdate:modelValue":function(c){return t.qty=c}},null,40,D),[[n["K"],t.qty,void 0,{number:!0}]])]),Object(n["h"])("td",null,Object(n["H"])(t.final_total),1)])})),128))]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",null,[M,Object(n["h"])("td",N,Object(n["H"])(E.cartProducts.total),1)]),Object(n["h"])("tr",null,[S,Object(n["h"])("td",T,Object(n["H"])(E.cartProducts.final_total),1)])])]),Object(n["h"])("div",z,[Object(n["O"])(Object(n["h"])("input",{class:"form-control form-control-sm p-1",type:"text","onUpdate:modelValue":c[5]||(c[5]=function(t){return E.coupon_code=t}),placeholder:"請填寫優惠卷碼"},null,512),[[n["K"],E.coupon_code]]),Object(n["h"])("button",{class:"btn btn-outline-danger",type:"button",onClick:c[6]||(c[6]=function(){return $.addCouponCode&&$.addCouponCode.apply($,arguments)})},"使用優惠卷")])])):Object(n["f"])("",!0)])],64)}e("99af"),e("4de4"),e("d3b7"),e("159b");var G={data:function(){return{listcetegory:"all",products:[],pagination:{},listProducts:[],cartProducts:[],cartActive:!1,status:{loadingItem:""},coupon_code:""}},methods:{getProduct:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/products");this.$http.get(c).then((function(c){t.products=c.data.products,t.listProducts=t.products}))},getCart:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart");this.$http.get(c).then((function(c){t.cartProducts=c.data.data,console.log(t.cartProducts)}))},goProduct:function(t){this.$router.push("product/".concat(t))},productList:function(t){this.listProducts="all"===t?this.products:this.products.filter((function(c){return c.category===t})),this.listcetegory=t,this.$refs.list.childNodes.forEach((function(c){c.firstChild.dataset.list===t?c.firstChild.classList.add("cart-list-active"):c.firstChild.classList.remove("cart-list-active")}))},addCart:function(t,c){var e=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o="post",r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart");c||(o="put",r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart/").concat(t)),this.status.loadingItem=t;var i={product_id:t,qty:n};this.$http[o](r,{data:i}).then((function(){e.status.loadingItem="",e.getCart()}))},delCart:function(t){var c=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart/").concat(t);this.$http.delete(e).then((function(t){c.getCart(),console.log(t.data)}))},showCart:function(){this.cartActive=!this.cartActive},addCouponCode:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/coupon"),e={code:this.coupon_code};this.$http.post(c,{data:e}).then((function(){t.getCart()}))}},watch:{cartProducts:function(){var t=0;this.cartProducts.carts.forEach((function(c){t+=c.qty})),this.$bus.$emit("getmitt",t)}},created:function(){this.getProduct(),this.getCart()}},Q=(e("9825"),e("6b0d")),W=e.n(Q);const X=W()(G,[["render",F]]);c["default"]=X},8418:function(t,c,e){"use strict";var n=e("a04b"),o=e("9bf2"),r=e("5c6c");t.exports=function(t,c,e){var i=n(c);i in t?o.f(t,i,r(0,e)):t[i]=e}},9825:function(t,c,e){"use strict";e("e614")},"99af":function(t,c,e){"use strict";var n=e("23e7"),o=e("da84"),r=e("d039"),i=e("e8b5"),a=e("861d"),s=e("7b0b"),l=e("07fa"),u=e("8418"),d=e("65f0"),h=e("1dde"),b=e("b622"),f=e("2d00"),p=b("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",v=o.TypeError,g=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=h("concat"),y=function(t){if(!a(t))return!1;var c=t[p];return void 0!==c?!!c:i(t)},C=!g||!m;n({target:"Array",proto:!0,forced:C},{concat:function(t){var c,e,n,o,r,i=s(this),a=d(i,0),h=0;for(c=-1,n=arguments.length;c<n;c++)if(r=-1===c?i:arguments[c],y(r)){if(o=l(r),h+o>j)throw v(O);for(e=0;e<o;e++,h++)e in r&&u(a,h,r[e])}else{if(h>=j)throw v(O);u(a,h++,r)}return a.length=h,a}})},a640:function(t,c,e){"use strict";var n=e("d039");t.exports=function(t,c){var e=[][t];return!!e&&n((function(){e.call(null,c||function(){throw 1},1)}))}},b727:function(t,c,e){var n=e("0366"),o=e("e330"),r=e("44ad"),i=e("7b0b"),a=e("07fa"),s=e("65f0"),l=o([].push),u=function(t){var c=1==t,e=2==t,o=3==t,u=4==t,d=6==t,h=7==t,b=5==t||d;return function(f,p,j,O){for(var v,g,m=i(f),y=r(m),C=n(p,j),w=a(y),x=0,P=O||s,k=c?P(f,w):e||h?P(f,0):void 0;w>x;x++)if((b||x in y)&&(v=y[x],g=C(v,x,m),t))if(c)k[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:l(k,v)}else switch(t){case 4:return!1;case 7:l(k,v)}return d?-1:o||u?u:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},e614:function(t,c,e){},e8b5:function(t,c,e){var n=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-739687b0.843860fe.js.map