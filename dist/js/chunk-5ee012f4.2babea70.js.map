{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/Products.vue","webpack:///./src/components/ProductsModal.vue","webpack:///./src/components/ProductsModal.vue?b522","webpack:///./src/views/Products.vue?b2a7"],"names":["$","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","undefined","description","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","result","this","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","get","symbol","string","desc","forced","class","_createElementVNode","width","_createVNode","_component_Loading","active","$data","type","onClick","$options","_hoisted_2","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_8","_hoisted_9","_component_PaginationVue","pages","onEmitPages","_component_ProductsModal","ref","product","onUpdateProduct","_component_DelModal","onDelItem","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","placeholder","_hoisted_4","_hoisted_10","onChange","_hoisted_11","_hoisted_15","$event","_hoisted_18","_hoisted_20","unit","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_30","content","true-value","false-value","_hoisted_33","_hoisted_35","mixins","modalMixin","props","Object","default","watch","tempProduct","data","modal","methods","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","api","process","$http","post","then","res","console","log","success","imageUrl","message","__exports__","products","pagination","isNew","isLoading","components","ProductsModal","DelModal","PaginationVue","inject","getProducts","page","openModal","productsModal","showModal","updateProduct","httpMethod","productComponent","hideModal","emitter","emit","style","join","openDelModal","delModal","delItem","delete","created","render"],"mappings":"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","file":"js/chunk-5ee012f4.2babea70.js","sourcesContent":["// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","<template>\n<Loading :active=\"isLoading\"></Loading>\n<button class=\"text-end btn btn-primary\"\n type=\"button\"\n @click.prevent=\"openModal(true)\">新增產品\n</button>\n<table class=\"table mt-4\">\n  <thead>\n    <tr>\n      <th width=\"120\">分類</th>\n      <th>產品名稱</th>\n      <th width=\"120\">原價</th>\n      <th width=\"120\">售價</th>\n      <th width=\"100\">是否啟用</th>\n      <th width=\"200\">編輯</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-for=\" item in products\" :key=\"item.id\">\n      <td>{{ item.category }}</td>\n      <td>{{ item.title }}</td>\n      <td class=\"text-right\">\n        {{ $filters.currency(item.origin_price) }}\n      </td>\n      <td class=\"text-right\">\n        {{ $filters.currency(item.price) }}\n      </td>\n      <td>\n        <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n        <span class=\"text-muted\" v-else>未啟用</span>\n      </td>\n      <td>\n        <div class=\"btn-group\">\n          <button class=\"btn btn-outline-primary btn-sm\"\n          @click='openModal(false, item)'>編輯</button>\n          <button class=\"btn btn-outline-danger btn-sm\"\n          @click=\"openDelModal(item)\">刪除</button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<PaginationVue :pages=\"pagination\" @emit-pages=\"getProducts\"></PaginationVue>\n<ProductsModal\n ref=\"productsModal\"\n :product=\"tempProduct\"\n @update-product=\"updateProduct\"></ProductsModal>\n <DelModal\n ref=\"delModal\"\n :product=\"tempProduct\"\n @del-item=\"delItem\"/>\n</template>\n\n<script>\nimport ProductsModal from '../components/ProductsModal.vue';\nimport DelModal from '../components/DelModal.vue';\nimport PaginationVue from '../components/Pagination.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    ProductsModal,\n    DelModal,\n    PaginationVue,\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          console.log(api);\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n            console.log(this.products);\n          }\n        });\n    },\n    openModal(isNew, item) {\n      this.isNew = isNew;\n      if (isNew) {\n        this.tempProduct = {};\n      } else {\n        this.tempProduct = { ...item };\n      }\n      this.$refs.productsModal.showModal();\n    },\n    updateProduct(item) {\n      this.tempProduct = item;\n      // 新增\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      let httpMethod = 'post';\n      // 編輯\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = 'put';\n      }\n      const productComponent = this.$refs.productsModal;\n      this.isLoading = true;\n      this.$http[httpMethod](api, { data: this.tempProduct })\n        .then((res) => {\n          this.isLoading = false;\n          productComponent.hideModal();\n          if (res.data.success) {\n            this.getProducts();\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: '更新成功',\n            });\n          } else {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '更新失敗',\n              content: res.data.message.join('、'),\n            });\n          }\n        });\n    },\n    // 刪除\n    openDelModal(item) {\n      this.tempProduct = { ...item };\n      this.$refs.delModal.showModal();\n    },\n    delItem() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      this.$http.delete(api)\n        .then((res) => {\n          this.$refs.delModal.hideModal();\n          if (res.data.success) {\n            this.getProducts();\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: '刪除成功',\n            });\n          } else {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '刪除失敗',\n              content: res.data.message,\n            });\n          }\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n<!-- Modal -->\n<div\n class=\"modal fade\"\n id=\"exampleModal\"\n tabindex=\"-1\"\n aria-labelledby=\"exampleModalLabel\"\n aria-hidden=\"true\"\n ref=\"modal\"\n>\n  <div class=\"modal-dialog  modal-xl\">\n    <div class=\"modal-content border-0\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">新增產品</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n              <div class=\"row\">\n        <div class=\"col-sm-4\">\n          <div class=\"mb-3\">\n            <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n            <input type=\"text\" class=\"form-control\" id=\"image\"\n                    placeholder=\"請輸入圖片連結\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"customFile\" class=\"form-label\">或 上傳圖片\n              <i class=\"fas fa-spinner fa-spin\"></i>\n            </label>\n            <input type=\"file\"\n             id=\"customFile\"\n             class=\"form-control\"\n             @change=\"uploadFile\"\n             ref=\"fileInput\">\n          </div>\n          <img class=\"img-fluid\" alt=\"\">\n          <!-- 延伸技巧，多圖 -->\n          <div class=\"mt-5\">\n            <div class=\"mb-3 input-group\" >\n              <input type=\"url\" class=\"form-control form-control\"\n                      placeholder=\"請輸入連結\">\n              <button type=\"button\" class=\"btn btn-outline-danger\">\n                移除\n              </button>\n            </div>\n            <div>\n              <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\n                新增圖片\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-8\">\n          <div class=\"mb-3\">\n            <label for=\"title\" class=\"form-label\">標題</label>\n            <input type=\"text\" class=\"form-control\" id=\"title\"\n                    v-model=\"tempProduct.title\"\n                    placeholder=\"請輸入標題\">\n          </div>\n\n          <div class=\"row gx-2\">\n            <div class=\"mb-3 col-md-6\">\n              <label for=\"category\" class=\"form-label\">分類</label>\n              <input type=\"text\" class=\"form-control\" id=\"category\"\n                      v-model=\"tempProduct.category\"\n                      placeholder=\"請輸入分類\">\n            </div>\n            <div class=\"mb-3 col-md-6\">\n              <label for=\"price\" class=\"form-label\">單位</label>\n              <input type=\"text\" class=\"form-control\" id=\"unit\"\n                      v-model=\"tempProduct.unit\"\n                      placeholder=\"請輸入單位\">\n            </div>\n          </div>\n\n          <div class=\"row gx-2\">\n            <div class=\"mb-3 col-md-6\">\n              <label for=\"origin_price\" class=\"form-label\">原價</label>\n              <input type=\"number\" class=\"form-control\" id=\"origin_price\"\n                      v-model=\"tempProduct.origin_price\"\n                      placeholder=\"請輸入原價\">\n            </div>\n            <div class=\"mb-3 col-md-6\">\n              <label for=\"price\" class=\"form-label\">售價</label>\n              <input type=\"number\" class=\"form-control\" id=\"price\"\n                      v-model=\"tempProduct.price\"\n                      placeholder=\"請輸入售價\">\n            </div>\n          </div>\n          <hr>\n\n          <div class=\"mb-3\">\n            <label for=\"description\" class=\"form-label\">產品描述</label>\n            <textarea type=\"text\" class=\"form-control\" id=\"description\"\n                      v-model=\"tempProduct.description\"\n                      placeholder=\"請輸入產品描述\"></textarea>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"content\" class=\"form-label\">說明內容</label>\n            <textarea type=\"text\" class=\"form-control\" id=\"content\"\n                      v-model=\"tempProduct.content\"\n                      placeholder=\"請輸入產品說明內容\"></textarea>\n          </div>\n          <div class=\"mb-3\">\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"checkbox\"\n                      v-model=\"tempProduct.is_enabled\"\n                      :true-value=\"1\"\n                      :false-value=\"0\"\n                      id=\"is_enabled\">\n              <label class=\"form-check-label\" for=\"is_enabled\">\n                是否啟用\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消</button>\n        <button\n        type=\"button\"\n        class=\"btn btn-primary\"\n        @click=\"$emit('update-product', tempProduct)\">確認</button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n// import Modal from 'bootstrap/js/dist/modal';\nimport modalMixin from '@/mixin/ModalMixin';\n\nexport default {\n  mixins: [modalMixin],\n  props: {\n    product: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n  data() {\n    return {\n      modal: {},\n      tempProduct: {},\n    };\n  },\n  methods: {\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadedFile);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(api, formData)\n        .then((res) => {\n          console.log(res.data);\n          if (res.data.success) {\n            this.tempProduct.imageUrl = res.data.imageUrl;\n            console.log(res.data);\n            console.log(this.tempProduct);\n          } else {\n            console.log(res.data.message);\n          }\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductsModal.vue?vue&type=template&id=6a5a678a\"\nimport script from \"./ProductsModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ftonw\\\\Desktop\\\\project\\\\homework\\\\demo\\\\petshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=e101b286\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ftonw\\\\Desktop\\\\project\\\\homework\\\\demo\\\\petshop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}