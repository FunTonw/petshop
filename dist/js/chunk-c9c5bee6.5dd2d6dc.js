(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9c5bee6"],{"0b42":function(t,e,c){var n=c("da84"),o=c("e8b5"),a=c("68ee"),r=c("861d"),l=c("b622"),s=l("species"),i=n.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,a(e)&&(e===i||o(e.prototype))?e=void 0:r(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?i:e}},"1dde":function(t,e,c){var n=c("d039"),o=c("b622"),a=c("2d00"),r=o("species");t.exports=function(t){return a>=51||!n((function(){var e=[],c=e.constructor={};return c[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,c){var n=c("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},"7f14":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),o={class:"container mt-5"},a=Object(n["h"])("h2",null,"購物車",-1),r={class:"mt-5"},l={class:"col-12 table table-striped table-light text-center"},s=Object(n["h"])("thead",{class:"fw-bold"},[Object(n["h"])("tr",null,[Object(n["h"])("td",null,"名稱"),Object(n["h"])("td",{class:"d-none d-lg-table-cell"},"數量"),Object(n["h"])("td",null,"單價"),Object(n["h"])("td",null,"金額"),Object(n["h"])("td",null,"刪除")])],-1),i={class:"fw-bold"},d={class:"input-qty border border-1 rounded p-0 d-lg-none d-flex align-items-center justify-content-between col-md-6 col-12"},u=["onClick"],b=Object(n["h"])("i",{class:"bi bi-dash"},null,-1),h=[b],f={key:1,class:"border-0 rounded-start fs-4 qty-button-disabled",disabled:""},p=Object(n["h"])("i",{class:"bi bi-dash"},null,-1),j=[p],O={class:"px-5"},v=["onClick"],y=Object(n["h"])("i",{class:"bi bi-plus"},null,-1),g=[y],C={class:"d-none d-lg-table-cell"},x={class:"input-qty border border-1 rounded p-0 mx-auto d-flex align-items-center justify-content-between col-md-6 col-12"},m=["onClick"],w=Object(n["h"])("i",{class:"bi bi-dash"},null,-1),k=[w],q={key:1,class:"border-0 rounded-start fs-4 qty-button-disabled",disabled:""},$=Object(n["h"])("i",{class:"bi bi-dash"},null,-1),H=[$],_={class:"px-5"},A=["onClick"],P=Object(n["h"])("i",{class:"bi bi-plus"},null,-1),T=[P],J=["onClick"],B=Object(n["h"])("i",{class:"bi bi-x"},null,-1),E=[B],K={class:"row"},M={class:"col-md-6 col-12 mb-3 mb-md-0"},S={class:"input-group d-flex"},U={class:"col-md-6 col-12 fw-bold fs-5 text-end"},V={class:"text-danger"};function z(t,e,c,b,p,y){return Object(n["v"])(),Object(n["g"])("div",o,[a,Object(n["h"])("div",r,[Object(n["h"])("table",l,[s,Object(n["h"])("tbody",null,[(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["C"])(p.carts,(function(e){return Object(n["v"])(),Object(n["g"])("tr",{style:{"vertical-align":"middle"},key:e.id},[Object(n["h"])("td",i,[Object(n["j"])(Object(n["H"])(e.product.title)+" ",1),Object(n["h"])("div",d,[e.qty>1?(Object(n["v"])(),Object(n["g"])("button",{key:0,onClick:Object(n["P"])((function(t){return y.cartsCount(e,"dash")}),["prevent"]),class:"border-0 rounded-start fs-4 qty-button"},h,8,u)):(Object(n["v"])(),Object(n["g"])("button",f,j)),Object(n["h"])("span",O,Object(n["H"])(e.qty),1),Object(n["h"])("button",{onClick:Object(n["P"])((function(t){return y.cartsCount(e,"add")}),["prevent"]),class:"border-0 rounded-end fs-4 qty-button"},g,8,v)])]),Object(n["h"])("td",C,[Object(n["h"])("div",x,[e.qty>1?(Object(n["v"])(),Object(n["g"])("button",{key:0,onClick:Object(n["P"])((function(t){return y.cartsCount(e,"dash")}),["prevent"]),class:"border-0 rounded-start fs-4 qty-button"},k,8,m)):(Object(n["v"])(),Object(n["g"])("button",q,H)),Object(n["h"])("span",_,Object(n["H"])(e.qty),1),Object(n["h"])("button",{onClick:Object(n["P"])((function(t){return y.cartsCount(e,"add")}),["prevent"]),class:"border-0 rounded-end fs-4 qty-button"},T,8,A)])]),Object(n["h"])("td",null,"$"+Object(n["H"])(t.$filters.currency(e.product.price)),1),Object(n["h"])("td",null,"$"+Object(n["H"])(t.$filters.currency(e.total)),1),Object(n["h"])("td",null,[Object(n["h"])("button",{class:"btn btn-outline-danger btn-sm",onClick:Object(n["P"])((function(t){return y.delCart(e)}),["prevent"])},E,8,J)])])})),128))])]),Object(n["h"])("div",K,[Object(n["h"])("div",M,[Object(n["h"])("div",S,[Object(n["h"])("button",{class:"btn btn-secondary",type:"button",onClick:e[0]||(e[0]=function(){return y.addCouponCode&&y.addCouponCode.apply(y,arguments)})},"使用優惠卷"),Object(n["O"])(Object(n["h"])("input",{class:"form-control form-control-sm p-1 px-2",type:"text","onUpdate:modelValue":e[1]||(e[1]=function(t){return p.coupon_code=t}),placeholder:"請輸入優惠卷碼"},null,512),[[n["K"],p.coupon_code]])])]),Object(n["h"])("div",U,[Object(n["h"])("p",null,"總金額 : $"+Object(n["H"])(t.$filters.currency(p.originTotal)),1),Object(n["h"])("p",V,"折扣價 : $"+Object(n["H"])(t.$filters.currency(p.total)),1)])])])])}c("99af");var D={data:function(){return{carts:[],originTotal:0,total:0,coupon_code:""}},methods:{getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart");this.$http.get(e).then((function(e){t.carts=e.data.data.carts,t.originTotal=e.data.data.total,t.total=e.data.data.final_total,console.log(e.data.data)}))},cartsCount:function(t,e){var c=this,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart/").concat(t.id),o=t.qty;"add"===e?o+=1:o-=1;var a={product_id:t.id,qty:o};this.$http.put(n,{data:a}).then((function(t){console.log(t.data),c.getCarts()}))},delCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart/").concat(t.id);this.$http.delete(c).then((function(t){console.log(t),e.getCarts()}))},addCouponCode:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/coupon"),c={code:this.coupon_code};this.$http.post(e,{data:c}).then((function(){t.getCarts()}))}},created:function(){this.getCarts()}},F=c("6b0d"),G=c.n(F);const I=G()(D,[["render",z]]);e["default"]=I},8418:function(t,e,c){"use strict";var n=c("a04b"),o=c("9bf2"),a=c("5c6c");t.exports=function(t,e,c){var r=n(e);r in t?o.f(t,r,a(0,c)):t[r]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),o=c("da84"),a=c("d039"),r=c("e8b5"),l=c("861d"),s=c("7b0b"),i=c("07fa"),d=c("8418"),u=c("65f0"),b=c("1dde"),h=c("b622"),f=c("2d00"),p=h("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",v=o.TypeError,y=f>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=b("concat"),C=function(t){if(!l(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},x=!y||!g;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,c,n,o,a,r=s(this),l=u(r,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?r:arguments[e],C(a)){if(o=i(a),b+o>j)throw v(O);for(c=0;c<o;c++,b++)c in a&&d(l,b,a[c])}else{if(b>=j)throw v(O);d(l,b++,a)}return l.length=b,l}})},e8b5:function(t,e,c){var n=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-c9c5bee6.5dd2d6dc.js.map