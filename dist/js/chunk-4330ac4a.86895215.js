(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4330ac4a"],{"0b42":function(t,c,i){var e=i("da84"),n=i("e8b5"),o=i("68ee"),a=i("861d"),s=i("b622"),r=s("species"),l=e.Array;t.exports=function(t){var c;return n(t)&&(c=t.constructor,o(c)&&(c===l||n(c.prototype))?c=void 0:a(c)&&(c=c[r],null===c&&(c=void 0))),void 0===c?l:c}},"159b":function(t,c,i){var e=i("da84"),n=i("fdbc"),o=i("785a"),a=i("17c2"),s=i("9112"),r=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(c){t.forEach=a}};for(var l in n)n[l]&&r(e[l]&&e[l].prototype);r(o)},"17c2":function(t,c,i){"use strict";var e=i("b727").forEach,n=i("a640"),o=n("forEach");t.exports=o?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,c,i){var e=i("d039"),n=i("b622"),o=i("2d00"),a=n("species");t.exports=function(t){return o>=51||!e((function(){var c=[],i=c.constructor={};return i[a]=function(){return{foo:1}},1!==c[t](Boolean).foo}))}},"4de4":function(t,c,i){"use strict";var e=i("23e7"),n=i("b727").filter,o=i("1dde"),a=o("filter");e({target:"Array",proto:!0,forced:!a},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,c,i){var e=i("0b42");t.exports=function(t,c){return new(e(t))(0===c?0:c)}},"76db":function(t,c,i){"use strict";i.r(c);var e=i("7a23"),n=Object(e["i"])("div",null,[Object(e["i"])("div",{class:"spinner-border text-primary",role:"status"},[Object(e["i"])("span",{class:"visually-hidden"},"Loading...")])],-1),o={class:"card"},a={class:"card-body text-center fs-1 fw-bold text-secondary m-3"},s=Object(e["i"])("p",null,[Object(e["i"])("i",{class:"bi bi-check2-square"})],-1),r={class:"container mt-3"},l={class:"row"},d={class:"col-12 col-md-3"},u={class:"list row pe-md-5",ref:"list"},b={class:"col-6 col-md-12"},f={class:"col-6 col-md-12"},p={class:"col-6 col-md-12"},h={class:"col-6 col-md-12"},j={class:"col-12 col-md-9"},O={class:"row"},v={class:"card h-100"},g=["onClick"],m=["src","alt"],y={class:"card-body"},C={class:"button-item d-flex justify-content-center"},x=["onClick"],L=Object(e["i"])("i",{class:"bi bi-heart-fill"},null,-1),w=[L],k={class:"btn m-1"},A=["onClick"],P={class:"card-title"},$={class:"m-0 fs-5 fw-bold text-center"},E={class:"d-flex flex-column flex-lg-row justify-content-between align-items-center"},I={class:"fs-6 m-0 me-1 text-decoration-line-through"},_={class:"m-0 fs-4 text-danger",style:{"font-weight":"700"}},X=["onClick"],q={key:0,class:"spinner-border text-danger spinner-border-sm",role:"status"},G=Object(e["i"])("span",{class:"visually-hidden"},"Loading...",-1),M=[G],V={key:1},U=Object(e["i"])("i",{class:"bi bi-cart-plus"},null,-1),H=Object(e["i"])("span",null,"加入購物車",-1),D=[U,H],B={class:"cart_group"},F=Object(e["i"])("i",{class:"bi bi-cart4"},null,-1),J=[F],Q={key:0,class:"p-3"},R={class:"table align-middle caption-top"},T=Object(e["i"])("thead",null,[Object(e["i"])("tr",null,[Object(e["i"])("th",{class:"col-1"}),Object(e["i"])("th",{class:"col"},"項目"),Object(e["i"])("th",{class:"col-2"},"數量"),Object(e["i"])("th",{class:"col-3"},"價格")])],-1),W=["onClick"],z=Object(e["i"])("i",{class:"bi bi-x-circle"},null,-1),K=[z],N={align:"rigth"},S=["onChange","disabled","onUpdate:modelValue"],Y=Object(e["i"])("td",{colspan:"3",align:"right"},"原價：",-1),Z={colspan:"1"},tt=Object(e["i"])("td",{colspan:"3",align:"right"},"總金額：",-1),ct={colspan:"1"},it={class:"input-group d-flex"};function et(t,c,i,L,G,U){var H=this,F=Object(e["I"])("Loading"),z=Object(e["I"])("VueEasyLightbox");return Object(e["A"])(),Object(e["h"])(e["a"],null,[Object(e["l"])(F,{active:G.isGetLoading,"is-full-page":!0},{default:Object(e["V"])((function(){return[n]})),_:1},8,["active"]),Object(e["l"])(F,{active:G.isLoading,"is-full-page":!0},{default:Object(e["V"])((function(){return[Object(e["i"])("div",null,[Object(e["i"])("div",o,[Object(e["i"])("div",a,[s,Object(e["i"])("p",null,Object(e["L"])(G.isLoadingMassege),1)])])])]})),_:1},8,["active"]),Object(e["l"])(z,{escDisabled:"",moveDisabled:"",visible:G.lightbox.visible,onHide:U.handleHide,imgs:G.lightbox.imgs},null,8,["visible","onHide","imgs"]),Object(e["i"])("div",r,[Object(e["i"])("div",l,[Object(e["i"])("div",d,[Object(e["i"])("ul",u,[Object(e["i"])("li",b,[Object(e["i"])("a",{class:"d-block py-0 py-md-2 cart-list-active",href:"#",onClick:c[0]||(c[0]=Object(e["X"])((function(t){return U.productList("all")}),["prevent"])),"data-list":"all"}," 所有 - ALL ")]),Object(e["i"])("li",f,[Object(e["i"])("a",{class:"d-block py-0 py-md-2",href:"#",onClick:c[1]||(c[1]=Object(e["X"])((function(t){return U.productList("蛋糕")}),["prevent"])),"data-list":"蛋糕"}," 蛋糕 - CAKE ")]),Object(e["i"])("li",p,[Object(e["i"])("a",{class:"d-block py-0 py-md-2",href:"#",onClick:c[2]||(c[2]=Object(e["X"])((function(t){return U.productList("派餅")}),["prevent"])),"data-list":"派餅"}," 派餅 - PIE ")]),Object(e["i"])("li",h,[Object(e["i"])("a",{class:"d-block py-0 py-md-2",href:"#",onClick:c[3]||(c[3]=Object(e["X"])((function(t){return U.productList("麵包")}),["prevent"])),"data-list":"麵包"}," 麵包 - BREAD ")])],512)]),Object(e["i"])("div",j,[Object(e["i"])("div",O,[(Object(e["A"])(!0),Object(e["h"])(e["a"],null,Object(e["G"])(G.listProducts,(function(c){return Object(e["A"])(),Object(e["h"])("div",{class:"col-6 col-md-4 mb-2",key:c.id},[Object(e["i"])("div",v,[Object(e["i"])("a",{href:"#",class:"card-link",onClick:Object(e["X"])((function(t){return U.goProduct(c.id)}),["prevent"])},[Object(e["i"])("img",{class:"card-img-top",src:c.imageUrl,alt:c.title},null,8,m)],8,g),Object(e["i"])("div",y,[Object(e["i"])("div",C,[Object(e["i"])("button",{class:"btn m-1",onClick:Object(e["X"])((function(t){return U.addFavorite(c)}),["prevent"])},w,8,x),Object(e["i"])("button",k,[Object(e["i"])("i",{class:"bi bi-zoom-in",onClick:Object(e["X"])((function(t){return U.showImg(c.imageUrl)}),["prevent"])},null,8,A)])]),Object(e["i"])("div",P,[Object(e["i"])("h6",$,Object(e["L"])(c.title),1)]),Object(e["i"])("div",E,[Object(e["i"])("p",I," $"+Object(e["L"])(t.$filters.currency(c.origin_price)),1),Object(e["i"])("p",_,"$"+Object(e["L"])(t.$filters.currency(c.price)),1)]),Object(e["i"])("div",null,[Object(e["i"])("button",{class:"btn btn-outline-danger fs-6 w-100",onClick:function(t){return U.addCart(c.id,!0)}},[H.status.loadingItem===c.id?(Object(e["A"])(),Object(e["h"])("div",q,M)):(Object(e["A"])(),Object(e["h"])("div",V,D))],8,X)])])])])})),128))])])])]),Object(e["i"])("div",B,[Object(e["i"])("button",{class:"btn btn-outline-info rounded-pill fs-2",onClick:c[4]||(c[4]=Object(e["X"])((function(t){return U.showCart()}),["prevent"]))},J),G.cartActive?(Object(e["A"])(),Object(e["h"])("div",Q,[Object(e["i"])("table",R,[T,Object(e["i"])("tbody",null,[(Object(e["A"])(!0),Object(e["h"])(e["a"],null,Object(e["G"])(G.cartProducts.carts,(function(t){return Object(e["A"])(),Object(e["h"])("tr",{key:t.id},[Object(e["i"])("td",null,[Object(e["i"])("button",{class:"btn p-0",onClick:Object(e["X"])((function(c){return U.delCart(t.id)}),["prevent"])},K,8,W)]),Object(e["i"])("td",null,Object(e["L"])(t.product.title),1),Object(e["i"])("td",N,[Object(e["W"])(Object(e["i"])("input",{type:"number",class:"form-control form-control-sm p-1",id:"count",min:"1",onChange:function(c){return U.addCart(t.id,!1,t.qty)},disabled:t.id===G.status.loadingItem,"onUpdate:modelValue":function(c){return t.qty=c}},null,40,S),[[e["Q"],t.qty,void 0,{number:!0}]])]),Object(e["i"])("td",null,Object(e["L"])(t.final_total),1)])})),128))]),Object(e["i"])("tfoot",null,[Object(e["i"])("tr",null,[Y,Object(e["i"])("td",Z,Object(e["L"])(G.cartProducts.total),1)]),Object(e["i"])("tr",null,[tt,Object(e["i"])("td",ct,Object(e["L"])(G.cartProducts.final_total),1)])])]),Object(e["i"])("div",it,[Object(e["W"])(Object(e["i"])("input",{class:"form-control form-control-sm p-1",type:"text","onUpdate:modelValue":c[5]||(c[5]=function(t){return G.coupon_code=t}),placeholder:"請填寫優惠卷碼"},null,512),[[e["Q"],G.coupon_code]]),Object(e["i"])("button",{class:"btn btn-outline-danger",type:"button",onClick:c[6]||(c[6]=function(){return U.addCouponCode&&U.addCouponCode.apply(U,arguments)})},"使用優惠卷")])])):Object(e["g"])("",!0)])],64)}i("99af"),i("4de4"),i("d3b7"),i("159b");var nt=i("825ae"),ot={components:[nt["a"]],data:function(){return{listcetegory:"all",products:[],pagination:{},listProducts:[],cartProducts:[],cartActive:!1,status:{loadingItem:""},coupon_code:"",isGetLoading:!1,isLoading:!1,isLoadingMassege:"",lightbox:{imgs:"",visible:!1}}},methods:{getProduct:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/products");this.isGetLoading=!0,this.$http.get(c).then((function(c){t.isGetLoading=!1,t.products=c.data.products,t.listProducts=t.products}))},getCart:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart");this.$http.get(c).then((function(c){t.cartProducts=c.data.data}))},goProduct:function(t){this.$router.push("product/".concat(t))},productList:function(t){this.listProducts="all"===t?this.products:this.products.filter((function(c){return c.category===t})),this.listcetegory=t,this.$refs.list.childNodes.forEach((function(c){c.firstChild.dataset.list===t?c.firstChild.classList.add("cart-list-active"):c.firstChild.classList.remove("cart-list-active")}))},addCart:function(t,c){var i=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n="post",o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart");c||(n="put",o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart/").concat(t)),this.status.loadingItem=t;var a={product_id:t,qty:e};this.$http[n](o,{data:a}).then((function(t){i.isLoading=!0,i.isLoadingMassege=t.data.message,i.status.loadingItem="",i.getCart()}))},delCart:function(t){var c=this,i="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/cart/").concat(t);this.$http.delete(i).then((function(t){c.isLoading=!0,c.isLoadingMassege=t.data.message,c.getCart(),console.log(t.data)}))},showCart:function(){this.cartActive=!this.cartActive},addCouponCode:function(){var t=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("funtonw-api","/coupon"),i={code:this.coupon_code};this.$http.post(c,{data:i}).then((function(c){t.isLoading=!0,t.isLoadingMassege=c.data.message,t.getCart()}))},addFavorite:function(t){this.$bus.$emit("add-favotite",t)},showImg:function(t){this.lightbox.imgs=t,this.lightbox.visible=!0},handleHide:function(){this.lightbox.visible=!1}},watch:{cartProducts:function(){var t=0;this.cartProducts.carts.forEach((function(c){t+=c.qty})),this.$bus.$emit("getmitt",t)},isLoading:function(){var t=this;setTimeout((function(){t.isLoading=!1}),1500)}},created:function(){this.getProduct(),this.getCart()}},at=(i("dbe9"),i("6b0d")),st=i.n(at);const rt=st()(ot,[["render",et]]);c["default"]=rt},8418:function(t,c,i){"use strict";var e=i("a04b"),n=i("9bf2"),o=i("5c6c");t.exports=function(t,c,i){var a=e(c);a in t?n.f(t,a,o(0,i)):t[a]=i}},"99af":function(t,c,i){"use strict";var e=i("23e7"),n=i("da84"),o=i("d039"),a=i("e8b5"),s=i("861d"),r=i("7b0b"),l=i("07fa"),d=i("8418"),u=i("65f0"),b=i("1dde"),f=i("b622"),p=i("2d00"),h=f("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",v=n.TypeError,g=p>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=b("concat"),y=function(t){if(!s(t))return!1;var c=t[h];return void 0!==c?!!c:a(t)},C=!g||!m;e({target:"Array",proto:!0,forced:C},{concat:function(t){var c,i,e,n,o,a=r(this),s=u(a,0),b=0;for(c=-1,e=arguments.length;c<e;c++)if(o=-1===c?a:arguments[c],y(o)){if(n=l(o),b+n>j)throw v(O);for(i=0;i<n;i++,b++)i in o&&d(s,b,o[i])}else{if(b>=j)throw v(O);d(s,b++,o)}return s.length=b,s}})},a640:function(t,c,i){"use strict";var e=i("d039");t.exports=function(t,c){var i=[][t];return!!i&&e((function(){i.call(null,c||function(){throw 1},1)}))}},b727:function(t,c,i){var e=i("0366"),n=i("e330"),o=i("44ad"),a=i("7b0b"),s=i("07fa"),r=i("65f0"),l=n([].push),d=function(t){var c=1==t,i=2==t,n=3==t,d=4==t,u=6==t,b=7==t,f=5==t||u;return function(p,h,j,O){for(var v,g,m=a(p),y=o(m),C=e(h,j),x=s(y),L=0,w=O||r,k=c?w(p,x):i||b?w(p,0):void 0;x>L;L++)if((f||L in y)&&(v=y[L],g=C(v,L,m),t))if(c)k[L]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return L;case 2:l(k,v)}else switch(t){case 4:return!1;case 7:l(k,v)}return u?-1:n||d?d:k}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},dbe9:function(t,c,i){"use strict";i("f1dc")},e8b5:function(t,c,i){var e=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==e(t)}},f1dc:function(t,c,i){}}]);
//# sourceMappingURL=chunk-4330ac4a.86895215.js.map